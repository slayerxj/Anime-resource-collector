<!DOCTYPE html>
<html>

<head>
	<link href="/main.css" rel="stylesheet" type="text/css">
</head>

<body>
	Only new:
	<input type="checkbox" id="onlynew"> Only complete:
	<input type="checkbox" id="onlycom">
	<br>
	<br>
	<table id="mainView">
	</table>
</body>

<script src="/socketIO.js"></script>
<script>
	var socket = io();

	document.body.onload = function() {
		console.log("emit page load");
		socket.emit("page load", "");
	};

	var filter = function() {
		var isOnlyNew = document.getElementById("onlynew").checked;
		var isOnlyCom = document.getElementById("onlycom").checked;
		console.log("Require filter");
		socket.emit("filter", {
			"isOnlyNew": isOnlyNew,
			"isOnlyCom": isOnlyCom
		});
	};

	document.getElementById("onlynew").onclick = filter;
	document.getElementById("onlycom").onclick = filter;

	socket.on('update message', function(content) {
		console.log("receive page load");
		var table = document.getElementById("mainView");
		table.innerHTML = content;
	});
</script>

</html>
